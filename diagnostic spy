-- file khusus spy
local plr = game.Players.LocalPlayer

local function scanTool(tool)
    print("\n=== [SPY] SCAN TOOL:", tool.Name, "===")
    for _, obj in ipairs(tool:GetDescendants()) do
        if obj:IsA("RemoteEvent") or obj:IsA("RemoteFunction") then
            print("[REMOTE]", obj.ClassName, obj:GetFullName())
            obj.OnClientEvent:Connect(function(...)
                print("[CALL]", obj:GetFullName(), ...)
            end)
        elseif obj:IsA("ValueBase") then
            print("[VALUE]", obj.ClassName, obj.Name, "=", obj.Value)
            obj:GetPropertyChangedSignal("Value"):Connect(function()
                print("[VALUE CHANGED]", obj.Name, "=", obj.Value)
            end)
        end
    end
end

plr.CharacterAdded:Connect(function(char)
    char.ChildAdded:Connect(function(child)
        if child:IsA("Tool") then
            task.wait(0.2)
            scanTool(child)
        end
    end)
end)

if plr.Character then
    local tool = plr.Character:FindFirstChildOfClass("Tool")
    if tool then
        scanTool(tool)
    end
end

print("✅ Spy aktif. Equip senjata, reload → cek log F9")
